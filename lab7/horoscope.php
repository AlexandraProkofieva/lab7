<!DOCTYPE html>
<html>
<head>
    <title>Гороскоп</title>
</head>
<body>
    <h1>Гороскоп</h1>
    <form action="horoscope.php" method="post">
        <label for="birthdate">Дата рождения:</label>
        <input type="text" name="birthdate" id="birthdate" placeholder="01.12.1990">
        <input type="submit" value="Показать гороскоп">
    </form>

    <?php
    if (isset($_POST['birthdate'])) {
        $birthdate = $_POST['birthdate'];

        // Преобразуем дату рождения в формат Unix-времени
        $timestamp = strtotime($birthdate);

        // Определяем знак зодиака
        $zodiacSign = getZodiacSign($timestamp);

        // Получаем гороскоп для текущего дня
        $horoscope = getHoroscope($zodiacSign);

        // Выводим гороскоп
        echo "<p>$horoscope</p>";
    }

    // Функция для определения знака зодиака
    function getZodiacSign($timestamp) {
        $month = date('m', $timestamp);
        $day = date('d', $timestamp);

        $signs = [
            'Овен' => ['03-21', '04-19'],
            'Телец' => ['04-20', '05-20'],
            'Близнецы' => ['05-21', '06-20'],
            'Рак' => ['06-21', '07-22'],
            'Лев' => ['07-23', '08-22'],
            'Дева' => ['08-23', '09-22'],
            'Весы' => ['09-23', '10-22'],
            'Скорпион' => ['10-23', '11-21'],
            'Стрелец' => ['11-22', '12-21'],
            'Козерог' => ['12-22', '01-19'],
            'Водолей' => ['01-20', '02-18'],
            'Рыбы' => ['02-19', '03-20'],
        ];

        foreach ($signs as $sign => $dates) {
            if ($month == substr($dates[0], 0, 2) && $day >= substr($dates[0], 3, 2)) {
                return $sign;
            } elseif ($month == substr($dates[1], 0, 2) && $day <= substr($dates[1], 3, 2)) {
                return $sign;
            }
        }
    }

    // Функция для получения гороскопа
    function getHoroscope($zodiacSign) {
        $horoscopes = [
            'Овен' => 'Сегодня вас ждут новые возможности и интересные встречи. Не упускайте их!',
            'Телец' => 'Сегодня сосредоточьтесь на своих целях и задачах. Не отвлекайтесь на мелочи.',
            'Близнецы' => 'Сегодня вас ждет насыщенный и продуктивный день. Не бойтесь общаться и делиться своими идеями.',
            'Рак' => 'Сегодня уделите время себе и своим близким. Отдохните от суеты и забот.',
            'Лев' => 'Сегодня ваша уверенность в себе на высоте. Не бойтесь проявлять инициативу и добиваться своего.',
            'Дева' => 'Сегодня будьте внимательны к деталям и мелочам. От этого будет зависеть ваш успех.',
            'Весы' => 'Сегодня вам предстоит принять важное решение. Взвесьте все "за" и "против".',
            'Скорпион' => 'Сегодня ваша интуиция будет на высоте. Прислушивайтесь к своему внутреннему голосу.',
            'Стрелец' => 'Сегодня вас ждут приятные сюрпризы и неожиданные встречи. Наслаждайтесь моментом.',
            'Козерог' => 'Сегодня будьте настойчивы и целеустремленны. Не сдавайтесь перед трудностями.',
            'Водолей' => 'Сегодня вам предстоит много общаться и взаимодействовать с людьми. Расширяйте свои связи.',
            'Рыбы' => 'Сегодня вас ждет вдохновение и творческий подъем. Не упустите возможность создать что-то новое.',
        ];

        return $horoscopes[$zodiacSign];
    }
    ?>
</body>
</html>